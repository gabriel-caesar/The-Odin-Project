<html lang="en">
<head>
  <script src="https://kit.fontawesome.com/fc2f0cdae5.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="styles.css">
  <meta charset="UTF-8">
  <title>Practice</title>
</head>
<body>

  <img src="#" style="display: block;">
  <h1 style="display: none;">Search your favorite GIF here <i class="fa-solid fa-arrow-down"></i></h1>

  <nav class="search-bar" id="nav-bar">

    <input type="text" class="inputs" id="search-input" placeholder="Search your GIFs...">

    <button class="buttons" id="cycle">
      Search
    </button>
  </nav>

  <script>

    const searchBar = document.getElementById("search-input");
    const cycleBtn = document.getElementById("cycle");
    const h1 = document.querySelector('h1');
    const img = document.querySelector('img');

    async function getGif () {

      try {

        const response = await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=RYiFAV3Kl01C4ynbn7YjuTGySEWVeytT&s=${searchBar.value}`, {mode: 'cors'});

        const gifData = await response.json();
        
        img.src = gifData.data.images.original.url;
        
        img.style.display = "block";
        h1.style.display = "none";

      } catch(err) {

        img.style.display = "none";
        h1.style.display = "block";

        console.error(err); //TypeError: Cannot read properties of undefined (reading 'original')

      }

    };

    cycleBtn.addEventListener("click", () => {

      getGif();
      
    }); 

    searchBar.addEventListener('keydown', e => {

      if (e.key === "Enter") {
        getGif();
      }
      
    });

    getGif();

  </script>
  
</body>
</html>